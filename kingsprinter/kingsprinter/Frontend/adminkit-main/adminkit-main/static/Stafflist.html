<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="shortcut icon" href="img/icons/icon-48x48.png" />

	<link rel="canonical" href="https://demo-basic.adminkit.io/ui-forms.html" />

	<title>Forms | AdminKit Demo</title>

	<!-- <link href="css/app.css" rel="stylesheet"> -->
	<!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet"> -->




<!-- Feather Icons -->
<script src="https://unpkg.com/feather-icons"></script>
<link rel="stylesheet" href="css/custom.css">

</head>

<body>
<!-- SIDEBAR -->
 <div id="sidebar"></div>



<!-- HEADER -->


  
<div id="header"></div>




<main style="padding-top: 10px;">

  <!-- <h1>Add New Entry</h1>

  <div class="form-card">
    <form>

      <div class="row">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" placeholder="Enter full name">
        </div>

        <div class="form-group">
          <label>Email Address</label>
          <input type="text" placeholder="Enter email">
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Mobile Number</label>
          <input type="text" placeholder="Enter mobile number">
        </div>

        <div class="form-group">
          <label>City</label>
          <input type="text" placeholder="Enter city">
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>State</label>
          <input type="text" placeholder="Enter state">
        </div>

        <div class="form-group">
          <label>Address</label>
          <input type="text" placeholder="Enter full address">
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Pincode</label>
          <input type="text" placeholder="Enter pincode">
        </div>

        <div class="form-group">
          <label>GST Number</label>
          <input type="text" placeholder="Enter GST number">
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label>Company Name</label>
          <input type="text" placeholder="Enter company name">
        </div>

        <div class="form-group">
          <label>Website URL</label>
          <input type="text" placeholder="Enter website URL">
        </div>
      </div>

      <div class="form-group" style="margin-top:20px;">
        <label>Upload Document</label>
        <input type="file">
      </div>

      <button type="submit">Submit Form</button>

    </form>
  </div> -->


<h1 style="margin-top:40px;">Staff List</h1>


<!-- FILTER + ADD NEW BAR -->
<div style="display:flex; align-items:center; gap:12px; margin-bottom:20px;">
    
    <!-- Status Filter -->
    <select style="
        padding:10px 14px;
        border:1px solid #d1d5db;
        border-radius:8px;
        font-size:14px;">
        <option>Active</option>
        <option>Inactive</option>
    </select>

    <!-- City Filter -->
    <select id="categoryDropdown" style="
        padding:10px 14px;
        border:1px solid #d1d5db;
        border-radius:8px;
        font-size:14px;">
        <option>All Cities</option>
       
    </select>

    <!-- Filter Button -->
    <button style="
        padding:10px 20px;
        background:#8b1e1e;
        color:white;
        border:none;
        border-radius:8px;
        cursor:pointer;
        font-weight:600;">
        Filter
    </button>

    <!-- Right Side ADD NEW Button -->
    <div style="flex:1; display:flex; justify-content:flex-end;">
        <button onclick="window.location.href='add-staff.html'" 
            style="
            background:#1d9bf0;
            padding:10px 20px;
            border:none;
            color:white;
            border-radius:8px;
            font-weight:600;
            cursor:pointer;">
            ADD NEW
        </button>
    </div>

</div>


<div class="table-card">
  <table>
    <thead>
      <tr>
         <th>ID</th>
                                 <th> Name</th>
                                 <th> Email</th>
                                 <th> Phone</th>
                                 <th> City</th>
	                             <th>stafftype</th>
	                             
                    <th style="width:100px;">Action</th>
      </tr>
    </thead>

    <tbody id="categoryTableBody">
      <tr>
       
      </tr>

     

    </tbody>
  </table>
</div>

  

</main>


	<!-- <div class="wrapper">
		

		<div class="main">
			

			<main class="content">
				<div class="container-fluid p-0">

					<div class="mb-3">
						<h1 class="h3 d-inline align-middle">Staff List</h1>
	
					</div>
					<div class="row">
						<div class="col-12 col-lg-6">
							<div class="card">
							

								<form id ="categoryForm" onsubmit="addCategory(event)">

							
								
							</div>

						
</form>
							<div class="col-12 col-lg-6">
						<table border="1" class="table table-bordered table-striped table-hover text-center align-middle">
                           <thead>
                            <tr>
                                 <th>ID</th>
                                 <th> Name</th>
                                 <th> Email</th>
                                 <th> Phone</th>
                                 <th> City</th>
	                             <th>stafftype</th>
	                             <th>Action</th>
                             </tr>
                           </thead>
                 <tbody id="categoryTableBody"></tbody>
</table>
							</div>

							
						</div>

					</div>

				</div>
			</main>

			
		</div>
	</div> -->



<script>
async function loadCategories() {
    const response = await fetch("https://localhost:7171/api/Staff");
    const data = await response.json();

    const tableBody = document.getElementById("categoryTableBody");
    tableBody.innerHTML = "";

    data.forEach(cat => {
        const row = `<tr>
                        <td>${cat.id}</td>
                        <td>${cat.name}</td>
                        <td>${cat.email}</td>
						 <td>${cat.phone}</td>
                        <td>${cat.city}</td>
                        <td>${cat.stafftype}</td>
<td> <button onclick="viewStaff(${cat.id})">View</button>
	
                     </tr>`;
        tableBody.innerHTML += row;
    });
}
function viewStaff(id) {
    window.location.href = `pages-profile.html?id=${id}`;
}

// Category add karne ke baad list refresh karo
async function addCategory() {
    const name = document.getElementById("categoryName").value;

    const response = await fetch("https://localhost:7171/api/Category/Create", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ categoryName: name })
    });

    if (response.ok) {
        alert("Category added successfully!");
        loadCategories(); // âœ… yahan se list auto-refresh hogi
    } else {
        alert("Failed to add category");
    }
}

// Page load hone par sari category dikhao
window.onload = loadCategories;
</script>


<script>
document.addEventListener("DOMContentLoaded", async function () {
    const dropdown = document.getElementById("categoryDropdown");

    try {
        const response = await fetch("https://localhost:7171/api/State/GetAll"); // ðŸ‘ˆ apna backend URL
        if (!response.ok) {
            throw new Error("Failed to load categories");
        }

        const categories = await response.json();

        // Dropdown me add karo
        categories.forEach(cat => {
            const option = document.createElement("option");
            option.value = cat.id;
            option.textContent = cat.city;
            dropdown.appendChild(option);
        });
    } catch (error) {
        console.error("Error fetching categories:", error);
    }
});
</script>






	<script src="js/app.js"></script>
	<script src="../static/common.js"></script>

</body>


<script>

// ACCORDION SUBMENU â€” only one open at a time
function toggleMenu(id){
    const allMenus = document.querySelectorAll(".submenu");

    allMenus.forEach(menu => {
        if(menu.id !== id){
            menu.style.display = "none";
        }
    });

    const current = document.getElementById(id);
    current.style.display = current.style.display === "block" ? "none" : "block";
}

// Load icons
feather.replace();

</script>
<script>
  fetch("shared/commonheader.html")
    .then(res => res.text())
    .then(data => {
        document.getElementById("header").innerHTML = data;
    });
</script>
<div id="sidebar"></div>

<script>
fetch("shared/sidebar.html")
    .then(res => res.text())
    .then(data => {
        document.getElementById("sidebar").innerHTML = data;
    });
</script>
</html>