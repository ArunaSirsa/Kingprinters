<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="shortcut icon" href="img/icons/icon-48x48.png" />

	<link rel="canonical" href="https://demo-basic.adminkit.io/ui-forms.html" />

	<title>Forms | AdminKit Demo</title>

	<link href="css/app.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/custom.css">



</head>

<body>
	<div id="sidebar"></div>


<!-- HEADER -->
<div id="header"></div>

		<main>
		
<h1>Add Category</h1>

  <div class="form-card">
    

			

								<form id ="categoryForm" onsubmit="addCategory(event)">
 <div class="row">
        <div class="form-group">
        
         <select id="itemDropdown" onchange="loadCategories()">
<option value="" style="color:black;" >Select Item</option>
</select>
        </div>
<div class="form-group">
        
         <select id="categoryDropdown" onchange="loadsubCategories()">
<option value="" style="color:black;" >Select Category</option>
</select>
        </div>
        <div class="form-group">
        
          <input type="text" id ="categoryName" placeholder="Enter Category">
        </div>

   <div class="form-group">
         
          <input type="text" id ="sizeDropdown" placeholder="Enter Size">
        </div>

      <button type="submit" onclick="addCategory()">Save</button>



      </div>


								<div class="card-body">
<select id="sizeDropdown"    class="form-select mb-3">
<option value="" style="color:black;" >Select Size</option>
</select>
					</div>

								<div class="card-body">
<select   class="form-select mb-3">
<option value="Single Side" style="color:black;" >Select PrintingSide</option>
<option value="Single Side" style="color:black;" >Single Side</option>

<option value="Double Side" style="color:black;" >Double Side</option>
</select>
					</div>

				</div>
</div>
						<div class="col-12 col-lg-6">




							<div class="card">
								<div class="card-header">
									<h5 class="card-title mb-0">Product</h5>
								</div>

								<form id ="categoryForm" onsubmit="addCategory(event)">

								<div class="card-body">
<select id="subcategoryDropdown"  class="form-select mb-3">
<option value="" style="color:black;" >Select SubCategory</option>
</select>
					</div>

								<div class="card-body">
						 <input type="file" id="excelFile" class="form-control" /><br>
</div>

								<div class="card-body">
						<button  class="btn btn-lg btn-primary" onclick="uploadData()" type="button">Upload CSV</button></div>

				</div>
</div>
<div class="col-12 col-lg-12">

						<div class="card">
						<table border="1"       class="table table-bordered table-striped table-hover text-center align-middle">
  <thead>
    <tr>
      <th>ID</th>
	  <th>ItemId</th>
      <th>Name</th>
	   <th>LONG_ID</th>
      <th>OPTIONS</th>
	   <th>QTY</th>
      <th>COST</th>
	  	   <th>CARRIAGE</th>
      <th>Margin</th>
      <th>GST</th>
      <th>UpDate</th>

    </tr>
  </thead>
  <tbody id="categoryTableBody"></tbody>
</table>
							</div>

</div>

					
<!-- gyhgh -->
					</div>

				</div>
			</main>

			<footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-6 text-start">
							<p class="mb-0">
								<a class="text-muted" href="https://adminkit.io/" target="_blank"><strong>AdminKit</strong></a> - <a class="text-muted" href="https://adminkit.io/" target="_blank"><strong>Bootstrap Admin Template</strong></a>								&copy;
							</p>
						</div>
						<div class="col-6 text-end">
							<ul class="list-inline">
								<li class="list-inline-item">
									<a class="text-muted" href="https://adminkit.io/" target="_blank">Support</a>
								</li>
								<li class="list-inline-item">
									<a class="text-muted" href="https://adminkit.io/" target="_blank">Help Center</a>
								</li>
								<li class="list-inline-item">
									<a class="text-muted" href="https://adminkit.io/" target="_blank">Privacy</a>
								</li>
								<li class="list-inline-item">
									<a class="text-muted" href="https://adminkit.io/" target="_blank">Terms</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</div>



<script>
    // Load all subcategories and show in table
async function loadProduct() {
    const response = await fetch("https://localhost:7171/api/ProductPrice");
    const data = await response.json();

    const tableBody = document.getElementById("categoryTableBody");
    tableBody.innerHTML = "";

    data.forEach(cat => {
        const row = `<tr>
                        <td>${cat.id}</td>
						<td>${cat.itemId}</td>
                        <td>${cat.name}</td>
						<td>${cat.lonG_ID}</td>
						<td>${cat.options}</td>
                        <td>${cat.qty}</td>
						    <td>${cat.cost}</td>
						<td>${cat.carriage}</td>
						<td>${cat.margin}</td>
                        <td>${cat.gst}</td>
                        <td>${cat.upDate}</td>

                     </tr>`;
        tableBody.innerHTML += row;
    });
}

async function loadItems() {
    try {
        const response = await fetch("https://localhost:7171/api/Item");
        const items = await response.json();

        const dropdown = document.getElementById("itemDropdown");
        dropdown.innerHTML = "<option value=''>Select Item</option>";

        items.forEach(item => {
            const opt = document.createElement("option");
            opt.value = item.id;
            opt.textContent = item.name;
            dropdown.appendChild(opt);
        });
    } catch (error) {
        console.error("Error loading items:", error);
    }

}

async function loadSize() {
    try {
        const response = await fetch("https://localhost:7171/api/Size");
        const ssize = await response.json();

        const dropdown = document.getElementById("sizeDropdown");
        dropdown.innerHTML = "<option value=''>Select Size</option>";

        ssize.forEach(s => {
            const opt = document.createElement("option");
            opt.value = s.id;
            opt.textContent = s.sizeName;
            dropdown.appendChild(opt);
        });
    } catch (error) {
        console.error("Error loading PaperSize:", error);
    }

}


// Page load pe call karo
document.addEventListener("DOMContentLoaded", loadItems);
document.addEventListener("DOMContentLoaded", loadSize);

window.onload = loadProduct;

</script>
<script>
async function loadCategories() {
    const itemId = document.getElementById("itemDropdown").value;
    if (!itemId) return;

    try {
        const response = await fetch(`https://localhost:7171/api/Category/GetByItem/${itemId}`);
        const categories = await response.json();

        const dropdown = document.getElementById("categoryDropdown");
        dropdown.innerHTML = "<option value=''>Select Category</option>";

        categories.forEach(cat => {
            const opt = document.createElement("option");
            opt.value = cat.id;
            opt.textContent = cat.name;
            dropdown.appendChild(opt);
        });
    } catch (error) {
        console.error("Error fetching categories:", error);
    }
}




async function uploadData() {
    const fileInput = document.getElementById("excelFile");

    if (!fileInput || fileInput.files.length === 0) {
        alert("Please select an Excel file");
        return;
    }

    const formData = new FormData();
    formData.append("file", fileInput.files[0]);

    const response = await fetch("https://localhost:7171/api/ProductPrice/UploadExcel", {
        method: "POST",
        body: formData
    });

    if (response.ok) {
        alert("Uploaded Successfully!");
    } else {
        alert("Upload Failed");
    }
}
</script>
<script>
async function loadsubCategories() {
    const catId = document.getElementById("categoryDropdown").value;
    if (!catId) return;

    try {
        const response = await fetch(`https://localhost:7171/api/SubCategory/GetByCategory/${catId}`);
        const subcategories = await response.json();

        const dropdown = document.getElementById("subcategoryDropdown");
        dropdown.innerHTML = "<option value=''>Select SubCategory</option>";

        subcategories.forEach(catt => {
            const opt = document.createElement("option");
            opt.value = catt.id;
            opt.textContent = catt.name;
            dropdown.appendChild(opt);
        });
    } catch (error) {
        console.error("Error fetching categories:", error);
    }
}
</script>
<!-- <script>
document.addEventListener("DOMContentLoaded", async function () {
    const dropdown = document.getElementById("itemDropdown");

    try {
        const response = await fetch("https://localhost:7171/api/Item"); // ðŸ‘ˆ apna backend URL
        if (!response.ok) {
            throw new Error("Failed to load categories");
        }

        const categories = await response.json();

        // Dropdown me add karo
        categories.forEach(cat => {
            const option = document.createElement("option");
            option.value = cat.id;
            option.textContent = cat.name;
            dropdown.appendChild(option);
        });
    } catch (error) {
        console.error("Error fetching categories:", error);
    }
});
window.onload = loadCategories;
</script> -->






	<script src="js/app.js"></script>
	<script src="../static/common.js"></script>

</body>

</html>